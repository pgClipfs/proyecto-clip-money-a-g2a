<body>
    <div class="wrapper fadeInDown">

        <div id="formContent">

            <div class="fadeIn first">
                <img src="../../../assets/images/logo1.png" id="icon" alt="User Icon" />
            </div>

            <form (ngSubmit)="onSubmit(selectedCliente)" [formGroup] = "form">
               
                <div class="form-group">
                    
                    <div class="form-group">
                        <input type="text" placeholder="Nombre" class="form-control fadeIn" 
                        formControlName = "nombre" [(ngModel)]="selectedCliente.Nombre"
                        [ngClass]="{ 'is-invalid': (form.get('nombre')?.touched || form.get('nombre')?.dirty) && !form.get('nombre')?.valid}">
                        
                        <div class="invalid-feedback">
                            <span *ngIf = "form.get('nombre').errors?.required">
                              Introduzca un Nombre
                            </span>
                            <span *ngIf = "form.get('nombre').errors?.pattern">
                              Debe contener al menos 2 caracteres  
                            </span>
                        </div>
                    </div>

                   
                    <div class="form-group">
                        
                        <input type="text"  placeholder="Apellido" class="form-control fadeIn" 
                        formControlName = "apellido" [(ngModel)]="selectedCliente.Apellido"
                        [ngClass]="{ 'is-invalid': (form.get('apellido')?.touched || form.get('apellido')?.dirty) && !form.get('apellido')?.valid}">
                    
                        <div class="invalid-feedback">
                            <span *ngIf = "form.get('apellido').errors?.required">
                              Introduzca un Apellido
                            </span>
                            <span *ngIf = "form.get('apellido').errors?.pattern">
                              Debe contener al menos 2 caracteres  
                            </span>
                        </div>
                    
                    </div>

                   
                    <div class="form-group">
                        
                        <input type="date" class="form-control fadeIn" [(ngModel)]="selectedCliente.FechaNacimiento" formControlName= "fechaNac"
                        [ngClass]="{ 'is-invalid': form.get('fechaNac')?.touched && !form.get('fechaNac')?.valid}">

                        <div class="invalid-feedback">
                            <span *ngIf = "form.get('fechaNac').errors?.required">
                              Introduzca una Fecha de Nacimiento
                            </span>
                        </div>

                    </div>
                    
                    
                    <div class="form-group">
                        
                        <input type="text"  placeholder="DNI"  class="form-control fadeIn" 
                        [(ngModel)]="selectedCliente.NumDni" formControlName = "numDni"
                        [ngClass]="{ 'is-invalid': (form.get('numDni')?.touched || form.get('numDni')?.dirty) && !form.get('numDni')?.valid}">
                    
                    
                        <div class="invalid-feedback">
                            <span *ngIf = "form.get('numDni').errors?.required">
                              Introduzca un DNI
                            </span>
                            <span *ngIf = "form.get('numDni').errors?.pattern">
                              Debe contener al menos 7 caracteres Numericos  
                            </span>
                        </div>
                       
                    </div>


                    <div class="form-group">
                        
                        <input type="email" [(ngModel)]="selectedCliente.Email" placeholder="Email" 
                        class="form-control fadeIn" formControlName = "email"   
                        [ngClass]="{ 'is-invalid': (form.get('email')?.touched || form.get('email')?.dirty) && !form.get('email')?.valid}">
                    
                        <div class="invalid-feedback">
                            <span *ngIf = "form.get('email').errors?.required">
                              Introduzca un Email
                            </span>
                            <span *ngIf = "form.get('email').errors?.pattern">
                              Ingresa un formato correcto, ejemplo@ejemplo.com  
                            </span>
                        </div>
                       
                    </div>
                    
                                  
                    <div class="form-group">
                        
                        <input type="text" [(ngModel)]="selectedCliente.NombreUsuario" placeholder="Usuario" 
                        class="form-control fadeIn" formControlName = "usuario"
                        [ngClass]="{ 'is-invalid': (form.get('usuario')?.touched || form.get('usuario')?.dirty) && !form.get('usuario')?.valid}">
                   
                        <div class="invalid-feedback">
                            <span *ngIf = "form.get('usuario').errors?.required">
                              Introduzca un Usuario
                            </span>
                            <span *ngIf = "form.get('usuario').errors?.pattern">
                              Debe contener al menos 5 caracteres 
                            </span>
                        </div>
                          
                    </div>
                    
                    
                    
                    <div class="form-group">
                        
                        <input type="password" placeholder="Password" class="form-control fadeIn"  
                         formControlName = "password" [(ngModel)]="selectedCliente.Password"
                         [ngClass]="{ 'is-invalid': (form.get('password')?.touched || form.get('password')?.dirty) && !form.get('password')?.valid}">
                    
                         <div class="invalid-feedback">
                            <span *ngIf = "form.get('password').errors?.required">
                              Introduzca un password
                            </span>
                            <span *ngIf = "form.get('password').errors?.pattern">
                              Debe contener al menos 8 caracteres alfanumericos y comenzar con mayuscula
                            </span>
                          </div>

                    </div>

                    <div class="form-group">
                        
                        <input type="password" placeholder=" Repetir Password" class="form-control fadeIn"  
                         formControlName = "passwordRepeat"
                         [ngClass]="{ 'is-invalid': (form.get('passwordRepeat')?.touched || form.get('passwordRepeat')?.dirty) && !form.get('passwordRepeat')?.valid}">
                    
                         <div class="invalid-feedback">
                            <span *ngIf = "form.get('passwordRepeat').errors?.required">
                              Introduzca un password
                            </span>
                            <span *ngIf = "form.get('passwordRepeat').errors?.pattern">
                              Debe contener al menos 8 caracteres alfanumericos y comenzar con mayuscula
                            </span>
                          </div>


                    </div>

                    <button class=" btn btn-primary btnRegistrarse" [disabled]="form.invalid">Registrarse</button>
                      
                        
                    
                </div>

                  
            <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="isCreateFailed">
              {{message}}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div> 
          <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="passwordsDistintas">
            {{message}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
        </div>
            </form>
            <button id= "btnRegresar" title="Regresar" class=" btn btn-primary"(click)="regresarclick()"></button>
        </div>
        
    </div>
</body>